---
# SPDX-License-Identifier: Apache-2.0
# SPDX-FileCopyrightText: 2024 The Linux Foundation <https://linuxfoundation.org>

name: "🛠️ GitHub Repository Metadata"
description: "Get GitHub Organisation and Repository Names"

outputs:
  OWNER:
    description: "Returns the name of the GitHub organisation"
    value: ${{ steps.github.outputs.organisation }}
  REPOSITORY:
    description: "Returns the name of the GitHub repository"
    value: ${{ steps.github.outputs.repository }}

runs:
  using: "composite"
  steps:
    - name: "GitHub Repository Metadata"
      id: github
      shell: bash
      run: |
        # GitHub Repository Metadata
        echo "GitHub owner: $GITHUB_REPOSITORY_OWNER"
        echo "owner=${GITHUB_REPOSITORY_OWNER}" >> "$GITHUB_OUTPUT"

        REPOSITORY=${GITHUB_REPOSITORY#$GITHUB_REPOSITORY_OWNER/}
        echo "GitHub Repository: ${REPOSITORY}"
        echo "repository=${REPOSITORY}" >> "$GITHUB_OUTPUT"
